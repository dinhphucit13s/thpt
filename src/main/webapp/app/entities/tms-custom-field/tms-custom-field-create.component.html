<div>
    <form class="form-horizontal" name="editForm" novalidate role="form" novalidate #editForm="ngForm">

        <div class="modal-header">
            <h4 class="modal-title text-center text-uppercase" id="myCustomFieldLabel"
                jhiTranslate="dtmsApp.tMSCustomField.home.createOrEditLabel">Create or edit a Customfield</h4>
        </div>

        <div class="form-body">
            <jhi-alert-error></jhi-alert-error>
            <div class="form-group">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.headerName"
                       for="field_name">Name</label>
                <div class="col-md-7">
                    <input type="text" class="form-control" name="name" id="field_name"
                           [(ngModel)]="tMSCustomField.entityData.headerName" required maxlength="255"/>
                    <div [hidden]="!(editForm.controls.name?.dirty && editForm.controls.name?.invalid)">
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.name?.errors?.required"
                               jhiTranslate="entity.validation.required">
                            This field is required.
                        </small>
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.name?.errors?.maxlength"
                               jhiTranslate="entity.validation.maxlength" translateValues="{ max: 255 }">
                            This field cannot be longer than 255 characters.
                        </small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.type"
                       for="field_type">Type</label>
                <div class="col-md-7">
                    <select class="form-control" name="type" [(ngModel)]="tMSCustomField.entityData.type" (change)="showFieldByType()" id="field_type" required>
                        <option value="STRING">{{'dtmsApp.tMSCustomField.typeField.string' | translate}}</option>
                        <option value="NUMERIC">{{'dtmsApp.tMSCustomField.typeField.numeric' | translate}}</option>
                        <option value="EMAIL">{{'dtmsApp.tMSCustomField.typeField.email' | translate}}</option>
                        <option value="PASSWORD">{{'dtmsApp.tMSCustomField.typeField.password' | translate}}</option>
                        <option value="CHECKBOX">{{'dtmsApp.tMSCustomField.typeField.checkbox' | translate}}</option>
                        <option value="SHORT_DATE">{{'dtmsApp.tMSCustomField.typeField.short_date' | translate}}</option>
                        <option value="LONG_DATE">{{'dtmsApp.tMSCustomField.typeField.long_date' | translate}}</option>
                        <option value="RADIOBUTTON">{{'dtmsApp.tMSCustomField.typeField.radio' | translate}}</option>
                        <option value="TEXTAREA">{{'dtmsApp.tMSCustomField.typeField.texarea' | translate}}</option>
                        <option value="LIST">{{'dtmsApp.tMSCustomField.typeField.list' | translate}}</option>
                        <option value="MULTI_SELECTION_LIST">{{'dtmsApp.tMSCustomField.typeField.multi_selection_list' | translate}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group" *ngIf="this.tMSCustomField.entityData.type !== 'SHORT_DATE' && this.tMSCustomField.entityData.type !== 'LONG_DATE'">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.value" for="field_value"> Value </label>
                <div class="col-md-7" *ngIf="this.tMSCustomField.entityData.type !== 'CHECKBOX'">
                    <input *ngIf="typeValueDefault" id="field_value" class="form-control" [(ngModel)]="tMSCustomField.entityData.value" name="value" type="text" placeholder="enter value"/>
                    <input *ngIf="this.tMSCustomField.entityData.type === 'NUMERIC' || this.tMSCustomField.entityData.type === 'FLOAT'" id="field_value_number" [(ngModel)]="tMSCustomField.entityData.value" class="form-control" name="value" type="number" placeholder="enter value"/>
                    <input *ngIf="this.tMSCustomField.entityData.type === 'EMAIL'" id="field_value_email" class="form-control" [(ngModel)]="tMSCustomField.entityData.value" #emailInput="ngModel" minlength="5" maxlength="100" email name="email" type="email" placeholder="enter email"/>
                    <input *ngIf="this.tMSCustomField.entityData.type === 'PASSWORD'" id="field_value_pass" class="form-control" [(ngModel)]="tMSCustomField.entityData.value" name="value" type="password" placeholder="enter value"/>
                </div>
                <div class="col-md-7" *ngIf="this.tMSCustomField.entityData.type === 'CHECKBOX'">
                    <select class="form-control" name="type_checkbox" [(ngModel)]="tMSCustomField.entityData.value" id="field_value_checkbox" >
                        <option value="true">TRUE</option>
                        <option value="false">FALSE</option>
                    </select>
                </div>
            </div>
            <div class="form-group" *ngIf="this.tMSCustomField.entityData.type === 'SHORT_DATE' && this.tMSCustomField.entityData.type !== 'LONG_DATE'">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.value" for="field_value"> Value </label>
                <div class="col-md-7">
                    <input
                        id="field_short_date"
                        class="form-control"
                        name="shortDate"
                        type="text"
                        mwlFlatpickr
                        [(ngModel)]="this.tMSCustomField.entityData.value"
                        placeholder="Select Date..."
                        dateFormat="Y/m/d">
                </div>
            </div>
            <div class="form-group" *ngIf="this.tMSCustomField.entityData.type === 'LONG_DATE' && this.tMSCustomField.entityData.type !== 'SHORT_DATE'">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.value" for="field_value"> Value </label>
                <div class="col-md-7">
                    <input
                        id="field_long_date"
                        class="form-control"
                        name="longDate"
                        type="text"
                        mwlFlatpickr
                        [enableTime]="true"
                        [(ngModel)]="this.tMSCustomField.entityData.value"
                        placeholder="Select Date..."
                        dateFormat="Y/m/d H:i">
                </div>
            </div>
            <div class="form-group" *ngIf="(showField && showOptions) || tMSCustomField.entityData.type === 'RADIOBUTTON'">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.options" for="field_options"> Options </label>
                <div class="col-md-7">
                    <input id="field_options" class="form-control" (click)="valueOptionDefault()" [(ngModel)]="tMSCustomField.entityData.options" name="options" type="text" placeholder="enter option" required/>
                    <div [hidden]="!(editForm.controls.options?.dirty && editForm.controls.options?.invalid)">
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.options?.errors?.required"
                               jhiTranslate="entity.validation.required">
                            This field is required.
                        </small>
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.options?.errors?.maxlength"
                               jhiTranslate="entity.validation.maxlength" translateValues="{ max: 500 }">
                            This field cannot be longer than 500 characters.
                        </small>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="showField">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.urlOption" for="field_urlOption"> urlOption </label>
                <div class="col-md-7">
                    <input id="field_urlOption" class="form-control" (change)="checkShowOptions()" [(ngModel)]="tMSCustomField.entityData.urlOption" name="urlOption" type="text" placeholder="enter API"/>
                </div>
            </div>
            <div class="form-group" *ngIf="showField">
                <label class="col-md-2 control-label" jhiTranslate="dtmsApp.tMSCustomField.properties.reuseData" for="field_urlOption"> Reuse Data </label>
                <div class="col-md-7">
                    <input id="field_reuseData" class="form-control" (change)="checkShowOptions()" [(ngModel)]="tMSCustomField.entityData.reuseData" name="reuseData" type="text" placeholder="enter field"/>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit"
                    (click)="previousState()"
                    class="btn btn-info">
                <span class="fa fa-arrow-left"></span>&nbsp;<span jhiTranslate="entity.action.back"> Back</span>
            </button>
            <button type="submit" [disabled]="editForm.form.invalid || isSaving" (click)="save()" class="btn btn-primary">
                <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
            </button>
        </div>
    </form>
</div>
